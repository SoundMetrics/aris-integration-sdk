## Connect C Program

This sample program searches the local network for an ARIS sonar with a given serial number and connects to it.  Connecting to an ARIS requires establishing a TCP connection with the sonar and sending acoustic, salinity and focus commands in that order.  After those initial commands have been sent the program sends the sonar a target port for the UDP frame stream and begins receiving frame parts.  After 30 or so frames have been received the program exits.

### Program Usage

    connect <sonar-serial-number>

### Protocol Buffers Definitions

The `availability.pbc-c.c`, `commands.pbc-c.c` and `frame_stream.pbc-c.c` source files and their accompanying C header files are generated by the [protoc-c tool](https://github.com/protobuf-c/protobuf-c) at build time.  The .proto definition files used to generate the necessary message serialization and deserialization code for this sample can be found in [protobuf](https://github.com/SoundMetrics/aris-integration-sdk/tree/master/common/protobuf).  See the [protobuf-c Wiki](https://github.com/protobuf-c/protobuf-c/wiki) for instructions on how to compile and install the protoc-c tool and protobuf-c library on Linux and Mac OS X.

### C Code

The C code in this sample uses the Windows Socket API so it must be built on Windows using MinGW or VC++.

### gcc

A makefile is provided in `.\mingw`. MinGW was used to compile it (specifically,
[this distribution of MinGW](https://sourceforge.net/projects/mingw-w64)).
